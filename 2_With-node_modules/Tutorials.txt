Git commit message
Tutorial from: https://www.mysqltutorial.org/mysql-nodejs/connect/ and https://alvarotrigo.com/blog/wait-1-second-javascript/ and https://learnsql.com/cookbook/how-to-create-a-table-with-a-foreign-key-in-sql/ and https://www.w3schools.com/nodejs/nodejs_mysql.asp and https://www.mysql.com/downloads/ and https://downloads.mysql.com/archives/installer/ and https://stackoverflow.com/questions/52815608/er-not-supported-auth-mode-client-does-not-support-authentication-protocol-requ and https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server
       

Install mysql
    Node has also a package for mysql database
    1. Website:
        https://www.mysql.com/downloads/
    1.1 Choose Community version;  MySQL Community Downloads; MySQL Installer for Windows
        https://downloads.mysql.com/archives/installer/
    2. Click Download button for the installer
        Windows (x86, 32-bit), MSI Installer; (mysql-installer-web-community-8.0.28.0.msi)
    3. Double click it and install.
    4. Set Root Password and User with Password
    5. Check install
        > mysql --version
    6. Reconfigure MySql Server
        https://stackoverflow.com/questions/52815608/er-not-supported-auth-mode-client-does-not-support-authentication-protocol-requ
        https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server
        6.1.1 In Startmenu under Mysql click MySqlInstaller
        6.1.2 For SQL Server click Reconfigure
        6.1.3 Select left side "authentication method tab"
        6.1.4 Select radio button -->use legacy authentication method
        6.1.5 Next, Next, Enter root password, Next, Next, Execute, Finish, X to close
        6.2.1 Now start Workbench, click the Mysql Connection
        6.2.2 In Menubar click: Server>Startup/Shutdown
        6.2.3 Click stop server (here workbench crashes -> go to 6.3.1)
        6.2.4 Click start server
        6.3.1 Open Terminal as Administrator
        6.3.2 net stop MySQL80
        6.3.2 net start MySQL80 (did not solve the problem)
        6.4.1 Open Workbench
        6.4.2 Enter query: ALTER USER 'RolandBenz'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Qqr***';
        6.4.3 Execute (Error Code 1396 -> go to 6.5.1)
        6.5.1 Under Administration Tab click Users and Privileges
        6.5.2 For RolandBenz change Limits to Host matching to localhost, click Apply
        6.5.3 Enter query: ALTER USER 'RolandBenz'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Qqr***';
        6.5.4 Execute (that worked - finally)

Tutorial
    MySql connect to server, create db, make query, etc;
    App folder: Mysql
    Tutorial from: https://www.w3schools.com/nodejs/nodejs_mysql.asp
    Tutorial from: https://www.mysqltutorial.org/mysql-nodejs/connect/
        1. Install mysql driver modul
                Nodejs_Apps\Mysql> npm install mysql
                    Output
                        added 11 packages, and audited 12 packages in 5s
                        found 0 vulnerabilities
        2.1 createDB
                file: createDB.js
                    var mysql = require('mysql');
                    //create connection to db server
                    var con = mysql.createConnection({
                        host: "localhost",
                        user: "RolandBenz",
                        password: "Qqr***"
                    });

                    /*connect to db server and create db*/
                    con.connect(function(err) {
                        if (err) throw err;
                        console.log("Connected!");
                        con.query("CREATE DATABASE mydb", function (err, result) {
                            if (err) throw err;
                            console.log("Database created");
                            //end connetion to db
                            con.end(function(err) {
                                if (err) {
                                return console.log('error:' + err.message);
                                }
                                console.log('Close the database connection.');
                                //destroy connetion to db server
                                con.destroy();
                            });
                        });
                    });
        2.2 Run createDB
                Nodejs_Apps\Mysql> node createDB.js
                    Output
                        Connected!
                        Database created
                        Close the database connection.
        3.1 createTables
                file: createTables.js
                    var mysql = require('mysql');
                    //https://alvarotrigo.com/blog/wait-1-second-javascript/
                    //https://learnsql.com/cookbook/how-to-create-a-table-with-a-foreign-key-in-sql/
                    function delay(milliseconds){
                        return new Promise(resolve => {
                            setTimeout(resolve, milliseconds);
                        });
                    }
                    async function run(){
                        console.log("Executed now");
                        //create connection to db server
                        var con1 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server (with the db mydb) and create table*/
                        con1.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            var sql = "CREATE TABLE customers (name VARCHAR(255), address VARCHAR(255))";
                            con1.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("Table created");
                                //end connetion to db
                                con1.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    //destroy connetion to db server
                                    con1.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 1 seconds wait");
                        //create connection to db server
                        var con2 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server (with the db mydb) and add field to db*/
                        con2.connect(function(err) {
                        if (err) throw err;
                            console.log("Connected!");
                            var sql = "ALTER TABLE customers ADD COLUMN id INT AUTO_INCREMENT PRIMARY KEY";
                            con2.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("Table altered");
                                //end connetion to db
                                con2.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    //destroy connetion to db server
                                    con2.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 2 seconds wait");
                        //create connection to db server
                        var con4 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server (with the db mydb) and create table*/
                        con4.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            var sql = "CREATE TABLE products (id INT PRIMARY KEY, name VARCHAR(255))";
                            con4.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("Table created");
                                //end connetion to db
                                con4.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    //destroy connetion to db server
                                    con4.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 3 seconds wait");
                        //create connection to db server
                        var con3 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server (with the db mydb) and create table*/
                        con3.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            //var sql = "CREATE TABLE users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(255), favorite_product INT FOREIGN KEY REFERENCES products(id))";
                            var sql = "CREATE TABLE users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(255), favorite_product INT, FOREIGN KEY (favorite_product) REFERENCES products(id))";

                            con3.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("Table created");
                                //end connetion to db
                                con3.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    //destroy connetion to db server
                                    con3.destroy();
                                });
                            });
                        });
                    }
                    run();
        3.2 Run createTables
                Nodejs_Apps\Mysql> node createTables.js
                    Output
                        Executed now
                        Connected!
                        Table created
                        Close the database connection.
                        Executed after 1 seconds wait
                        Connected!
                        Table altered
                        Close the database connection.
                        Executed after 2 seconds wait
                        Connected!
                        Table created
                        Close the database connection.
                        Executed after 3 seconds wait
                        Connected!
                        Table created
                        Close the database connection.
        4.1 createRecords
                file: createRecords.js
                    var mysql = require('mysql');
                    //https://alvarotrigo.com/blog/wait-1-second-javascript/
                    //https://learnsql.com/cookbook/how-to-create-a-table-with-a-foreign-key-in-sql/
                    function delay(milliseconds){
                        return new Promise(resolve => {
                            setTimeout(resolve, milliseconds);
                        });
                    }
                    async function run(){
                        console.log("Executed now");
                        /*create connection to db server and db mydb*/
                        var con = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and insert records*/
                        con.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            var sql = "INSERT INTO customers (name, address) VALUES ?";
                            var values = [
                                ['John', 'Highway 71'],
                                ['Peter', 'Lowstreet 4'],
                                ['Amy', 'Apple st 652'],
                                ['Hannah', 'Mountain 21'],
                                ['Michael', 'Valley 345'],
                                ['Sandy', 'Ocean blvd 2'],
                                ['Betty', 'Green Grass 1'],
                                ['Richard', 'Sky st 331'],
                                ['Susan', 'One way 98'],
                                ['Vicky', 'Yellow Garden 2'],
                                ['Ben', 'Park Lane 38'],
                                ['William', 'Central st 954'],
                                ['Chuck', 'Main Road 989'],
                                ['Viola', 'Sideway 1633']
                            ];
                            con.query(sql, [values], function (err, result) {
                                if (err) throw err;
                                console.log("Number of records inserted: " + result.affectedRows);
                                /*end connetion to db*/
                                con.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 1 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con1 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and add one more record*/
                        con1.connect(function(err) {
                            if (err) throw err;
                            var sql = "INSERT INTO customers (name, address) VALUES ('Michelle', 'Blue Village 1')";
                            con1.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("1 record inserted, ID: " + result.insertId);
                                /*end connetion to db*/
                                con1.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con1.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 2 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con2 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });

                        /*connect to db server and db mydb and update a record*/
                        con2.connect(function(err) {
                            if (err) throw err;
                            var sql = "UPDATE customers SET address = 'Canyon 123' WHERE address = 'Valley 345'";
                            con2.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log(result.affectedRows + " record(s) updated");
                                /*end connetion to db*/
                                con2.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con2.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 3 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con3 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and delete a record*/
                        con3.connect(function(err) {
                            if (err) throw err;
                            var sql = "DELETE FROM customers WHERE address = 'Mountain 21'";
                            con3.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log("Number of records deleted: " + result.affectedRows);
                                /*end connetion to db*/
                                con3.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con3.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 4 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con5 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and insert records*/
                        con5.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            var sql = "INSERT INTO products (id, name) VALUES ?";
                            var values = [
                                [154, 'Chocolate Heaven'],
                                [155, 'Tasty Lemons'],
                                [156, 'Vanilla Dreams']
                            ];
                            con5.query(sql, [values], function (err, result) {
                                if (err) throw err;
                                console.log("Number of records inserted: " + result.affectedRows);
                                /*end connetion to db*/
                                con5.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con5.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 5 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con4 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and insert records*/
                        con4.connect(function(err) {
                            if (err) throw err;
                            console.log("Connected!");
                            var sql = "INSERT INTO users (name, favorite_product) VALUES ?";
                            var values = [
                                ['John', 154],
                                ['Peter', 154],
                                ['Amy', 155],
                                ['Hannah', null],
                                ['Michael', null]
                            ];
                            con4.query(sql, [values], function (err, result) {
                                if (err) throw err;
                                console.log("Number of records inserted: " + result.affectedRows);
                                /*end connetion to db*/
                                con4.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con4.destroy();
                                });
                            });
                        });
                    }
                    run();
        4.2 Run createRecords
                Nodejs_Apps\Mysql> node createRecords.js
                    Output
                        Executed now
                        Connected!
                        Number of records inserted: 14
                        Close the database connection.
                        Executed after 1 seconds wait
                        1 record inserted, ID: 15
                        Close the database connection.
                        Executed after 2 seconds wait
                        1 record(s) updated
                        Close the database connection.
                        Executed after 3 seconds wait
                        Number of records deleted: 1
                        Close the database connection.
                        Executed after 4 seconds wait
                        Connected!
                        Number of records inserted: 3
                        Close the database connection.
                        Executed after 5 seconds wait
                        Connected!
                        Number of records inserted: 5
                        Close the database connection.
        5.1 queryDB
                file: queryDB.js
                    var mysql = require('mysql');
                    //https://alvarotrigo.com/blog/wait-1-second-javascript/
                    //https://learnsql.com/cookbook/how-to-create-a-table-with-a-foreign-key-in-sql/
                    function delay(milliseconds){
                        return new Promise(resolve => {
                            setTimeout(resolve, milliseconds);
                        });
                    }
                    async function run(){
                        console.log("Executed now");
                        /*create connection to db server and db mydb*/
                        var con = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and query table and columns*/
                        con.connect(function(err) {
                            if (err) throw err;
                            con.query("SELECT name, address FROM customers", function (err, result, fields) {
                                if (err) throw err;
                                console.log(result);
                                console.log(fields);
                                /*end connetion to db*/
                                con.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 1 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con1 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and query table with filter; S+wildcard; start with S followed by whatever*/
                        con1.connect(function(err) {
                            if (err) throw err;
                            con1.query("SELECT * FROM customers WHERE address LIKE 'S%'", function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con1.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con1.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 2 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con2 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and query table with simulated user data; escaped to prevent sql injection*/
                        con2.connect(function(err) {
                            var adr = 'Canyon 123';
                            var sql = 'SELECT * FROM customers WHERE address = ' + mysql.escape(adr);
                            con2.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con2.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con2.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 3 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con3 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and query table with placeholder ? for values to escape*/
                        con3.connect(function(err) {
                            var name = 'Amy';
                            var adr = 'Mountain 21';
                            var sql = 'SELECT * FROM customers WHERE name = ? OR address = ?';
                            con3.query(sql, [name, adr], function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con3.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con3.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 4 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con4 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and query table and limit nr of records to 5, starting at pos 3*/
                        con4.connect(function(err) {
                            if (err) throw err;
                            var sql = "SELECT * FROM customers LIMIT 5 OFFSET 2";
                            con4.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con4.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con4.destroy();
                                });
                            });
                        });
                    }
                    run();
        5.2 Run queryDB
                Nodejs_Apps\Mysql> node queryDB.js
                    Output
                        Executed now
                        [
                          RowDataPacket { name: 'John', address: 'Highway 71' },
                          RowDataPacket { name: 'Peter', address: 'Lowstreet 4' },
                          RowDataPacket { name: 'Amy', address: 'Apple st 652' },
                          RowDataPacket { name: 'Michael', address: 'Canyon 123' },
                          RowDataPacket { name: 'Sandy', address: 'Ocean blvd 2' },
                          RowDataPacket { name: 'Betty', address: 'Green Grass 1' },
                          RowDataPacket { name: 'Richard', address: 'Sky st 331' },
                          RowDataPacket { name: 'Susan', address: 'One way 98' },
                          RowDataPacket { name: 'Vicky', address: 'Yellow Garden 2' },
                          RowDataPacket { name: 'Ben', address: 'Park Lane 38' },
                          RowDataPacket { name: 'William', address: 'Central st 954' },
                          RowDataPacket { name: 'Chuck', address: 'Main Road 989' },
                          RowDataPacket { name: 'Viola', address: 'Sideway 1633' },
                          RowDataPacket { name: 'Michelle', address: 'Blue Village 1' }
                        ]
                        [
                          FieldPacket {
                            catalog: 'def',
                            db: 'mydb',
                            table: 'customers',
                            orgTable: 'customers',
                            name: 'name',
                            orgName: 'name',
                            charsetNr: 33,
                            length: 765,
                            type: 253,
                            flags: 0,
                            decimals: 0,
                            default: undefined,
                            zeroFill: false,
                            protocol41: true
                          },
                          FieldPacket {
                            catalog: 'def',
                            db: 'mydb',
                            table: 'customers',
                            orgTable: 'customers',
                            name: 'address',
                            orgName: 'address',
                            charsetNr: 33,
                            length: 765,
                            type: 253,
                            flags: 0,
                            decimals: 0,
                            default: undefined,
                            zeroFill: false,
                            protocol41: true
                          }
                        ]
                        Close the database connection.
                        Executed after 1 seconds wait
                        [
                          RowDataPacket { name: 'Richard', address: 'Sky st 331', id: 8 },
                          RowDataPacket { name: 'Viola', address: 'Sideway 1633', id: 14 }
                        ]
                        Close the database connection.
                        Executed after 2 seconds wait
                        [ RowDataPacket { name: 'Michael', address: 'Canyon 123', id: 5 } ]
                        Close the database connection.
                        Executed after 3 seconds wait
                        [ RowDataPacket { name: 'Amy', address: 'Apple st 652', id: 3 } ]
                        Close the database connection.
                        Executed after 4 seconds wait
                        [
                          RowDataPacket { name: 'Amy', address: 'Apple st 652', id: 3 },
                          RowDataPacket { name: 'Michael', address: 'Canyon 123', id: 5 },
                          RowDataPacket { name: 'Sandy', address: 'Ocean blvd 2', id: 6 },
                          RowDataPacket { name: 'Betty', address: 'Green Grass 1', id: 7 },
                          RowDataPacket { name: 'Richard', address: 'Sky st 331', id: 8 }
                        ]
                        Close the database connection.
        6.1 joinDBs
                file: joinDBs.js
                    var mysql = require('mysql');
                    //https://alvarotrigo.com/blog/wait-1-second-javascript/
                    //https://learnsql.com/cookbook/how-to-create-a-table-with-a-foreign-key-in-sql/
                    function delay(milliseconds){
                        return new Promise(resolve => {
                            setTimeout(resolve, milliseconds);
                        });
                    }
                    async function run(){
                        console.log("Executed now");
                        /*create connection to db server and db mydb*/
                        var con = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and left join tables*/
                        con.connect(function(err) {
                            if (err) throw err;
                            var sql = "SELECT users.name AS user, products.name AS favorite FROM users LEFT JOIN products ON users.favorite_product = products.id";
                            con.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con.destroy();
                                });
                            });
                        });
                        await delay(1000);
                        console.log("Executed after 1 seconds wait");
                        /*create connection to db server and db mydb*/
                        var con1 = mysql.createConnection({
                            host: "localhost",
                            user: "RolandBenz",
                            password: "Qqr***",
                            database: "mydb"
                        });
                        /*connect to db server and db mydb and right join tables*/
                        con1.connect(function(err) {
                            if (err) throw err;
                            var sql = "SELECT users.name AS user, products.name AS favorite FROM users RIGHT JOIN products ON users.favorite_product = products.id";
                            con1.query(sql, function (err, result) {
                                if (err) throw err;
                                console.log(result);
                                /*end connetion to db*/
                                con1.end(function(err) {
                                    if (err) {
                                    return console.log('error:' + err.message);
                                    }
                                    console.log('Close the database connection.');
                                    /*destroy connetion to db server*/
                                    con1.destroy();
                                });

                            });
                        });
                    }
                    run();
        6.2 Run joinDBs
                Nodejs_Apps\Mysql> node joinDB.js
                    Output
                        Executed now
                        [
                          RowDataPacket { user: 'John', favorite: 'Chocolate Heaven' },
                          RowDataPacket { user: 'Peter', favorite: 'Chocolate Heaven' },
                          RowDataPacket { user: 'Amy', favorite: 'Tasty Lemons' },
                          RowDataPacket { user: 'Hannah', favorite: null },
                          RowDataPacket { user: 'Michael', favorite: null }
                        ]
                        Close the database connection.
                        Executed after 1 seconds wait
                        [
                          RowDataPacket { user: 'John', favorite: 'Chocolate Heaven' },
                          RowDataPacket { user: 'Peter', favorite: 'Chocolate Heaven' },
                          RowDataPacket { user: 'Amy', favorite: 'Tasty Lemons' },
                          RowDataPacket { user: null, favorite: 'Vanilla Dreams' }
                        ]
                        Close the database connection.
